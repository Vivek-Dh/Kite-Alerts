# Test-specific configuration
spring:
  artemis:
    mode: embedded
    embedded:
      enabled: true
      persistent: false
    broker-url: "vm://0?broker.persistent=false"
  jms:
    pub-sub-domain: true

# Test logging configuration
logging:
  level:
    root: WARN
    # Suppress Artemis logs
    org.apache.activemq.audit: ERROR
    org.apache.activemq.artemis: WARN
    # Keep your application logs at INFO
    vivek.example.kite: INFO

# Test-specific JMS topics
app:
  jms:
    topics:
      rawTicksHighActivity: "test.raw.ticks.high"
      rawTicksMediumActivity: "test.raw.ticks.medium"
      rawTicksLowActivity: "test.raw.ticks.low"
      aggregatedUpdates: "test.aggregated.updates"
  # Configuration for the Mock Tick Producer
  mockProducer:
    enabled: true
    # Stock categories mapping. This drives which topic the ticks are sent to.
    stockCategories:
      HIGH_ACTIVITY: ["RELIANCE"]
      MEDIUM_ACTIVITY: ["INFY"]
      LOW_ACTIVITY: ["WIPRO"]

  # Configuration for the Window Aggregator
  windowAggregator:
    enabled: true
    timerCheckIntervalMillis: 1000 # How often to check for closable windows
    # Window durations per category
    windowDurationMillis:
      HIGH_ACTIVITY: 2500
      MEDIUM_ACTIVITY: 5000
      LOW_ACTIVITY: 10000
      # Concurrency settings for JMS listeners per category
    listenerConcurrency:
      HIGH_ACTIVITY: "5-10"
      MEDIUM_ACTIVITY: "3-8"
      LOW_ACTIVITY: "1-5"